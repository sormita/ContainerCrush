services:
  apigateway:
    build:
      context: C:\Users\SormitaChakraborty\source\repos\PostGresqlDapperLoginDocker
      dockerfile: APIGateway/Dockerfile
    container_name: apigateway
    depends_on:
    - loginservicedapr
    - postgresqldapper
    environment:
      ASPNETCORE_ENVIRONMENT: Development
    image: apigateway
    ports:
    - target: 80
    - published: 5018
      target: 81
  loginfunctionality:
    build:
      context: C:\Users\SormitaChakraborty\source\repos\PostGresqlDapperLoginDocker
      dockerfile: LoginFunctionality/Dockerfile
    container_name: loginfunctionality
    depends_on:
    - apigateway
    environment:
      ASPNETCORE_ENVIRONMENT: ' Development'
      WebApiBaseUrl: ' http://apigateway/api'
    image: loginfunctionality
    ports:
    - published: 5014
      target: 80
  loginservicedapr:
    build:
      context: C:\Users\SormitaChakraborty\source\repos\PostGresqlDapperLoginDocker
      dockerfile: LoginServiceDapr/Dockerfile
    container_name: loginservicedapr
    depends_on:
    - postgresdata
    environment:
      ConnectionString: ' User ID=postgres;Password=secret1234;Host=postgresdata;Port=5432;Database=postgres;'
    image: loginservicedapr
    ports:
    - published: 5016
      target: 80
  postgresdata:
    container_name: postgresdata
    environment:
      POSTGRES_DB: postgres
      POSTGRES_HOST: postgresdata
      POSTGRES_PASSWORD: secret1234
      POSTGRES_PORT: '51036'
      POSTGRES_USER: postgres
    image: postgres:latest
    ports:
    - published: 51036
      target: 5432
    restart: always
  postgresqldapper:
    build:
      context: C:\Users\SormitaChakraborty\source\repos\PostGresqlDapperLoginDocker
      dockerfile: PostGresqlDapper/Dockerfile
    container_name: postgresqldapper
    depends_on:
    - postgresdata
    environment:
      ConnectionString: ' User ID=postgres;Password=secret1234;Host=postgresdata;Port=5432;Database=postgres;'
    image: postgresqldapper
    ports:
    - published: 5010
      target: 5001
version: '3.4'